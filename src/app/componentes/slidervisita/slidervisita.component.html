<div class="container px-xl-1 ">

    <div *ngIf="!isrespon">
        <div class="h100"></div>

        <div class="w-100 d-flex p-0 m-0 posrel">
            <div class="posrel p-0 text-left ">
                <div id="titulovisita">
                    <span class="colGRIS1">{{visitaresultado.visit_lang_title}} </span>
                </div>
            </div>
            <div class=" d-flex posabsolRight">
                <div class="horasvisit d-flex">
                    <img class="imghorasvisita  mt-1 mx-1 posrel" style="top: 2px" src='assets/images/i-reloj.svg'
                        alt="">
                    <span class="cantidadhorasvisita ">{{timesSel.duration}}h</span>
                </div>
                <div class="linvertical mx-3"></div>
                <div class="d-flex w-100">
                    <div class="colGRIS1 mx-3 fs-16 mt-1">{{messages.messages.from}} </div>
                    <div class="preciovisitaeuro ml-2 mr-0">{{timesSel.price}} €</div>
                </div>
                <div class="posabsol d-flex cupo" style="top: 30px; right: 0px" (click)="abrirverredes()">
                    <img src="../../assets/images/i-compartir.svg" class="imicono4" draggable="false">
                    <span class="colGRIS1 mx-2 fs-16">{{messages.messages.share}} </span>
                    <span class="colGRIS1 ">
                        <i class=" fa fa-angle-down fs-16" *ngIf="!verredes"></i>
                        <i class=" fa fa-angle-up fs-16" *ngIf="verredes"></i>
                    </span>
                    <div class="modalredes animated fadeInDown" *ngIf="verredes">
                        <div *ngFor="let r of redes">
                            <div class="cupo posrel" (click)="compartir(visitaresultado, r.name)">
                                <div class="colGRIS3"> {{r.name}} </div>
                                <div class="posabsolR">
                                    <img class="h16" [src]='r.logo' [alt]="r.name" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="h60"></div>

        <div #detallevisita id="detallevisita" class=" d-flex">
            <div class="p-0 m-0 ffimaglat">
                <div class="conteni posrel d-flex">

                    <div class="p-0 m-0 fimaglat max5ima">
                        <div class="p-0 m-0 imageneslat" *ngFor="let imageneslat of listaImagenesVisitaLat ">
                            <div #imageneslatid id="imlt-{{imageneslat.visit_image_uuid}}" class="chimaglat cupo">
                                <picture>
                                    <source media="(min-width: 0px)" srcset="{{imageneslat.visit_image_url}}"
                                        data-srcset="{{imageneslat.visit_image_url}}">
                                    <img class="imglat" [ngClass]="{'imgsel': imageneslat.sel}"
                                        src="{{imageneslat.visit_image_url}}" data-src="{{imageneslat.visit_image_url}}"
                                        alt="{{imageneslat.visit_image_uuid}}">
                                </picture>
                            </div>
                        </div>
                    </div>

                    <div class="detalleslider">
                        <swiper #imagenlista id="imagenlista" [config]="config"
                            (slideChangeTransitionEnd)="getIndexSel()">
                            <div id="im-{{imagenes.visit_image_uuid}}" class="p-0 m-0 imagenescent"
                                *ngFor="let imagenes of listaImagenesVisita">
                                <div class="posrel">
                                    <div class="posrel w-100">
                                        <picture>
                                            <source media="(min-width: 0px)" srcset="{{imagenes.visit_image_url}}"
                                                data-srcset="{{imagenes.visit_image_url}}">
                                            <img src="{{imagenes.visit_image_url}}" data-src="{{imagenes.visit_image_url}}"
                                                alt="{{imagenes.visit_image_uuid}}"
                                                style="object-fit: cover; max-width: 635px; height: 480px ;">
                                        </picture>
                                    </div>
                                </div>
                            </div>
                        </swiper>
                    </div>

                    <div class="posrel shad">
                        <div class="posabsol">
                            <div #fdetallecale id="fdetallecale"
                                [ngClass]="{ 'posfixed80': pegaj == 2, 'posrelinicio': pegaj == 1, 'posrelfinal': pegaj == 3  }">
                                <div #detallecale id="detallecale" class="m-0 p-4 divcalendar ">

                                    <div #cale id="cale" class="cajaselecvisita" *ngIf="caleinfo != ''">
                                        <div class="w-100 cupo posrel" (click)="verCale()">
                                            <div class="fs-20 ml-0 mr-auto">
                                                <span class="ml-1 colGRIS1">
                                                    {{caleinfo}}
                                                </span>
                                            </div>
                                            <div class="posabsolRight">
                                                <i class="fa fa-angle-down" *ngIf="!vcale"></i>
                                                <i class="fa fa-angle-up" *ngIf="vcale"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="wrapper-calendar p-0 animated fadeIn" *ngIf="vcale || caleinfo == ''">
                                        <div class="header-calendar">
                                            <div>
                                                <div (click)="changeMonth(-1)" class="text-center arrowcalendar">
                                                    <i class="fa fa-angle-left "> </i>
                                                </div>
                                            </div>
                                            <div class="month-calendar">{{mSelect}}</div>
                                            <div class="age-calendar">{{ySelect}}</div>
                                            <div>
                                                <div (click)="changeMonth(1)" class="text-center arrowcalendar">
                                                    <i class="fa fa-angle-right "> </i>
                                                </div>
                                            </div>
                                        </div>
                                        <ol class="olCalendar">
                                            <li *ngFor="let day of week" class="day-name ilCalendar ">{{day |
                                                slice:0:1}}
                                            </li>

                                            <li class="liCalendar"
                                                [ngClass]="{'daySelected': ( day.selected ), 'dayVisit': (day.visitday) }"
                                                (click)="clickDay(day)"
                                                [style.gridColumnStart]="first ? day?.indexWeek : 'auto'"
                                                *ngFor="let day of monthSelect; let first = first">
                                                <span>{{day?.value}}</span>
                                            </li>
                                        </ol>
                                    </div>

                                    <div class="p-0 my-3">
                                        <div #hora class="cajaselecvisita">
                                            <div class="w-100 cupo posrel" (click)="verHora()">
                                                <div class="fs-20 ml-0 mr-auto">
                                                    <span class="colGRIS1 ff-JB" *ngIf="horainfo == ''">
                                                        {{messages.data.hour}}
                                                    </span>
                                                    <span class="ml-1 colGRIS1">
                                                        {{horainfo}}
                                                    </span>
                                                </div>
                                                <div class="posabsolRight">
                                                    <i class="fa fa-angle-down" *ngIf="!vhora"></i>
                                                    <i class="fa fa-angle-up" *ngIf="vhora"></i>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="p-0 m-0">
                                            <div class="row px-3 pt-2 m-0 animated fadeIn" [hidden]="!vhora">
                                                <div *ngFor="let li of listahorasvisita" class="col-3 p-0 m-0">
                                                    <input name="rbhora" id="rbhora-{{li.key}}" type="radio"
                                                        value="{{li.key}}" (click)="horainfosel(li.value)" >
                                                    <label class="px-1" for="rbhora-{{li.key}}">{{li.value}}</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="p-0 my-3">
                                        <div #idioma class="cajaselecvisita">
                                            <div class="w-100 cupo posrel" (click)="verIdioma()">
                                                <div class="fs-20 ml-0 mr-auto">
                                                    <span class="colGRIS1 ff-JB" *ngIf="idiominfo == ''">
                                                        {{messages.data.language}}
                                                    </span>
                                                    <span class="ml-1 colGRIS1">
                                                        {{idiominfo | capitalize}}
                                                    </span>
                                                </div>
                                                <div class="posabsolRight">
                                                    <i class="fa fa-angle-down" *ngIf="!vidiom"></i>
                                                    <i class="fa fa-angle-up" *ngIf="vidiom"></i>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="p-0 m-0">
                                            <div class="row px-3 pt-2 m-0 animated fadeIn" [hidden]="!vidiom">
                                                <div *ngFor="let li of listaidiomasvisita" class="col-6 p-0 m-0">
                                                    <input name="rbidiom" id="rbidiom-{{li.uuid}}" type="radio"
                                                        value="{{li.iso}}" (click)="idiomainfosel(li.iso)" >
                                                    <label class="mx-1 mb-1" for="rbidiom-{{li.uuid}}">
                                                        {{li.name | capitalize}}</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="p-0 my-3">
                                        <div #persona class="cajaselecvisita">
                                            <div class="w-100 cupo posrel" (click)="verPersona()">
                                                <div class="fs-20 ml-0 mr-auto d-flex">
                                                    <span class="colGRIS1 ff-JB"
                                                        *ngIf="adultoSel == 0 && ninosSel == 0 && menoresSel == 0">
                                                        {{messages.data.people}}
                                                    </span>
                                                    <div class="posrel fs-18 colGRIS2" style="top: 0px"
                                                        *ngIf="adultoSel != 0 || ninosSel != 0 || menoresSel != 0 ">
                                                        <span [ngClass]="{'colGRIS1': adultoSel > 0 }">
                                                            {{messages.price.adults}} {{adultoSel}}
                                                        </span>
                                                        <span class="mx-3" [ngClass]="{'colGRIS1': ninosSel > 0 }">
                                                            {{messages.price.children}} (3-11)  {{ninosSel}} 
                                                        </span>
                                                        <!-- <span class="" [ngClass]="{'colGRIS1': menoresSel > 0 }">
                                                            Menores {{menoresSel}}
                                                        </span> -->
                                                    </div>
                                                </div>
                                                <div class="posabsolRight">
                                                    <i class="fa fa-angle-down" *ngIf="!vpers"></i>
                                                    <i class="fa fa-angle-up" *ngIf="vpers"></i>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="p-0 m-0">
                                            <div class="px-3 pt-2 m-0 animated fadeIn" [hidden]="!vpers">
                                                <div #adulto class="row my-2">
                                                    <div class="col-4 text-left posrel">
                                                        <div class="fs-8 posabsol" style="top: -6px">Adulto</div>
                                                        <div class="fs-16">{{precioadultosst}} €</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <div class="w-100 d-flex mw100">
                                                            <div class="posrelbtm5">
                                                                <div *ngIf="adultoSel == 0">
                                                                    <img src="../../assets/images/i-restarapagado.svg"
                                                                        class="imicono4" draggable="false">
                                                                </div>
                                                                <div class="cupo" *ngIf="adultoSel > 0"
                                                                    (click)="restaradulto()">
                                                                    <img src="../../assets/images/i-restar.svg"
                                                                        class="imicono4" draggable="false">
                                                                </div>
                                                            </div>
                                                            <div class="fs-16 text-center w50">
                                                                {{adultoSel}}
                                                            </div>
                                                            <div class="posrelbtm5">
                                                                <div class="cupo" (click)="sumaradulto()">
                                                                    <img src="../../assets/images/i-sumar.svg"
                                                                        class="imicono4" draggable="false">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-4 text-right">
                                                        <div class="fs-16">{{precioadultototalst}} €</div>
                                                    </div>
                                                </div>

                                                <div #ninos class="row my-2">
                                                    <div class="col-4 text-left posrel">
                                                        <div class="fs-8 posabsol" style="top: -6px">
                                                            {{messages.price.children}} (3-11)
                                                        </div>
                                                        <div class="fs-16">{{precioninosst}} €</div>
                                                    </div>
                                                    <div class="col-4">
                                                        <div class="w-100 d-flex mw100">
                                                            <div class="posrelbtm5">
                                                                <div *ngIf="ninosSel == 0">
                                                                    <img src="../../assets/images/i-restarapagado.svg"
                                                                        class="imicono4" draggable="false">
                                                                </div>
                                                                <div class="cupo" *ngIf="ninosSel > 0"
                                                                    (click)="restarninos()">
                                                                    <img src="../../assets/images/i-restar.svg"
                                                                        class="imicono4" draggable="false">
                                                                </div>
                                                            </div>
                                                            <div class="fs-16 text-center w50">
                                                                {{ninosSel}}
                                                            </div>
                                                            <div class="posrelbtm5">
                                                                <div class="cupo" (click)="sumarninos()">
                                                                    <img src="../../assets/images/i-sumar.svg"
                                                                        class="imicono4" draggable="false">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-4 text-right">
                                                        <div class="fs-16">{{precioninostotalst}} €</div>
                                                    </div>
                                                </div>

                                                <div #total class="d-flex w-100 posrel my-3">
                                                    <div class="ml-0 mr-auto ">
                                                        <div class="fs-16">Total</div>
                                                    </div>
                                                    <div class="posabsolR">
                                                        <div class="fs-16 ff-JB">{{preciototalst}} €</div>
                                                    </div>
                                                </div>
                                                <div #maximo class="d-flex w-100 posrel my-3">
                                                    <div class="d-flex posrel w-100">
                                                        <div class="fs-12">_vendidas_  / _*Máximas personas visita_
                                                        </div>
                                                        <div class="posabsolR ff-JB"> {{vendidas}} / {{maximopersonas}}</div>
                                                    </div>
                                                </div>
                                                <div #checkprivada class="d-flex w-100 posrel my-3"
                                                    *ngIf="visitaresultado.visit_privada">
                                                    <div class="ml-0 mr-auto ">
                                                        <div class="fs-20 mr-2 posrel " style="top: -3px">
                                                            <input #priv type="checkbox" name="privada" id="privada"
                                                                [value]="privada" (change)="cambiarprivada(priv)">
                                                        </div>
                                                    </div>
                                                    <div class="mr-0 ml-auto">
                                                        <div class="fs-16 mx-1">
                                                            _Contratar visita privada._
                                                        </div>
                                                        <div class="fs-12 ffita colGRIS2">
                                                            _*Implica asumir el precio al coste máximo de la visita
                                                            independientemente del número
                                                            total de asistentes._
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div #validacioncale class="d-flex w-100 posrel my-1" *ngIf="calenovalid">
                                            <div class=" posrel " style="top:-4px">
                                                <img src="../../assets/images/i-validacion.svg" class="imicono8"
                                                    draggable="false">
                                            </div>
                                            <div>
                                                <div class="fs-16 colROJO1">{{messages.errors.date}}</div>
                                            </div>
                                        </div>
                                        <div #validacionhora class="d-flex w-100 posrel my-1" *ngIf="horanovalid">
                                            <div class=" posrel " style="top:-4px">
                                                <img src="../../assets/images/i-validacion.svg" class="imicono8"
                                                    draggable="false">
                                            </div>
                                            <div>
                                                <div class="fs-16 colROJO1">{{messages.errors.hour}}
                                                </div>
                                            </div>
                                        </div>
                                        <div #validacionidioma class="d-flex w-100 posrel my-1" *ngIf="idiomanovalid">
                                            <div class=" posrel " style="top:-4px">
                                                <img src="../../assets/images/i-validacion.svg" class="imicono8"
                                                    draggable="false">
                                            </div>
                                            <div>
                                                <div class="fs-16 colROJO1">{{messages.errors.language}}
                                                </div>
                                            </div>
                                        </div>
                                        <div #validacionpers class="d-flex w-100 posrel my-1" *ngIf="persnovalid">
                                            <div class=" posrel " style="top:-4px">
                                                <img src="../../assets/images/i-validacion.svg" class="imicono8"
                                                    draggable="false">
                                            </div>
                                            <div>
                                                <div class="fs-16 colROJO1">{{messages.errors.people}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="p-0 m-0">
                                        <div id="btreservar">
                                            <div class="w-100">
                                                <div class="my-0 mx-auto text-center">
                                                    <button class="btredondoRojoCalendar " type="button"
                                                        (click)="reservarvisita()">
                                                        <span class="ff-JB">Reservar</span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="conteni d-flex">
                    <div class="posrel mt-4">

                        <div class="pestas d-flex ">
                            <div id="pestaDescripcion" class="cupo text-center" [ngClass]="{'pulsada': pestaactiv == 1}"
                                (click)="ScrollToElement(zoneDescripcion,1)">
                                {{messages.tabs.description | capitalize}}
                            </div>
                            <div class="linvertical"></div>
                            <div id="pestaPrecios" class="cupo text-center" [ngClass]="{'pulsada': pestaactiv == 2}"
                                (click)="ScrollToElement(zonePrecios,2)">
                                {{messages.tabs.price | capitalize}}
                            </div>
                            <div class="linvertical"></div>
                            <div id="pestaDetalles" class="cupo text-center" [ngClass]="{'pulsada': pestaactiv == 3}"
                                (click)="ScrollToElement(zoneDetalles,3)">
                                {{messages.tabs.details | capitalize}}
                            </div>
                            <div class="linvertical"></div>
                            <div id="pestaCancelaciones" class="cupo text-center"
                                [ngClass]="{'pulsada': pestaactiv == 4}" (click)="ScrollToElement(zoneCancelaciones,4)">
                                {{messages.tabs.cancel | capitalize}}
                            </div>
                            <div class="linvertical"></div>
                            <div id="pestaPuntoencuentro" class="cupo text-center"
                                [ngClass]="{'pulsada': pestaactiv == 5}"
                                (click)="ScrollToElement(zonePuntodeencuentro,5)">
                                {{messages.tabs.meeting | capitalize}}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="conteni ">

                    <div #zoneDescripcion class="scroll-with-offset mb-4">
                        <div class="posrel mt-4 ">
                            <div class="fs-18" [innerHtml]="descripcioncorta" *ngIf="!vermas">
                            </div>
                            <div class="colROJO1 cupo" (click)="abrirvermas()" *ngIf="!vermas">
                                {{messages.messages.description}}
                            </div>
                            <div class="fs-18" [innerHtml]="descripcion" *ngIf="vermas">
                            </div>
                        </div>
                    </div>

                    <div class=" w-100 linecell"></div>
                </div>
                <div class="conteni ">
                    <div #zonePrecios class="scroll-with-offset mb-4">

                        <div class="fs-20 my-3 ff-JB colGRIS1">
                            {{messages.tabs.price | capitalize}}
                        </div>
                        <table class="table fs-18" style="width: 304px">
                            <tbody>
                                <tr class="bgBLANCO2 trprecios">
                                    <td class="tdprecios">{{messages.price.adults}} </td>
                                    <td class="tdprecios text-right">{{precioadultosst}} €</td>
                                </tr>
                                <tr class="bgBLANCO trprecios">
                                    <td class="tdprecios">{{messages.price.children}} (3-11)<span
                                            class="fs-12 ml-1">{{messages.price.range}}</span></td>
                                    <td class="tdprecios text-right">{{precioninosst}} €</td>
                                </tr>
                                <!-- <tr class="bgBLANCO2 trprecios">
                                    <td class="tdprecios">{{messages.price.children}} <span
                                            class="fs-12 ml-1">{{messages.price.minor}}</span></td>
                                    <td class="tdprecios text-right">
                                        <span *ngIf="preciomenores > 0">{{preciomenoresst}} €</span>
                                        <span *ngIf="preciomenores == 0">{{messages.price.free}}</span>
                                    </td>
                                </tr> -->
                            </tbody>
                        </table>

                    </div>
                    <div class=" w-100 linecell"></div>
                </div>
                <div class="conteni ">
                    <div #zoneDetalles class="scroll-with-offset mb-4">
                        <div class="fs-20 my-3 ff-JB colGRIS1"  >
                            {{messages.tabs.description | capitalize}}
                        </div>
                        <div class="row fs-18 my-2">
                            <div class="col-xl-4">
                                <img src="../../assets/images/i-seguridad.svg" class="imicono8 posrel mb-2"
                                    draggable="false">
                                <span class="ml-2">{{messages.details.covid.title}}</span>
                            </div>
                            <div class="col-xl-8">
                                {{messages.details.covid.description | capitalize }}
                            </div>
                            <div class="linedots"></div>
                        </div>
                        <div class="row fs-18 my-2">
                            <div class="col-xl-4">
                                <img src="../../assets/images/i-relojG.svg" class="imicono8 posrel mb-2"
                                    draggable="false">
                                <span class="ml-2">{{messages.details.duration.title}}</span>
                            </div>
                            <div class="col-xl-8">
                                {{visitaresultado.visit_time_duration}} {{messages.details.duration.description}}
                            </div>
                            <div class="linedots"></div>
                        </div>
                        <div class="row fs-18 my-2">
                            <div class="col-xl-4">
                                <img src="../../assets/images/i-idiomas.svg" class="imicono8 posrel mb-2"
                                    draggable="false">
                                <span class="ml-2">{{messages.details.language.title | capitalize}}</span>
                            </div>
                            <div class="col-xl-8">
                                {{messages.details.language.description }} {{idiomasdisponibles}}
                            </div>
                            <div class="linedots"></div>
                        </div>
                        <div class="row fs-18 my-2">
                            <div class="col-xl-4">
                                <img src="../../assets/images/i-calendarioG.svg" class="imicono8 posrel mb-2"
                                    draggable="false">
                                <span class="ml-2">{{messages.details.when.title | capitalize}}</span>
                            </div>
                            <div class="col-xl-8">
                                {{messages.details.when.description1 }}
                                {{messages.details.when.description2 }}
                                {{messages.details.when.description3 }}
                            </div>
                            <div class="linedots"></div>
                        </div>
                        <div class="row fs-18 my-2">
                            <div class="col-xl-4">
                                <img src="../../assets/images/i-accesibilidad.svg" class="imicono8 posrel mb-2"
                                    draggable="false">
                                <span class="ml-2">{{messages.details.accesibility.title | capitalize}}</span>
                            </div>
                            <div class="col-xl-8" *ngIf="visitaresultado.visit_accessibility">
                                Accesible en silla de ruedas.
                            </div>
                            <div class="col-xl-8" *ngIf="!visitaresultado.visit_accessibility">
                                <img src="../../assets/images/i-restar.svg" class="imicono2" draggable="false">
                            </div>
                            <div class="linedots"></div>
                        </div>
                        <div class="row fs-18 my-2">
                            <div class="col-xl-4">
                                <img src="../../assets/images/i-mascotas.svg" class="imicono8 posrel mb-2"
                                    draggable="false">
                                <span class="ml-2">{{messages.details.pet.title | capitalize}}</span>
                            </div>
                            <div class="col-xl-8">
                                {{messages.details.pet.description | capitalize}}
                            </div>
                        </div>
                    </div>
                    <div class=" w-100 linecell"></div>
                </div>
                <div class="conteni ">
                    <div #zoneCancelaciones class="scroll-with-offset mb-4">
                        <div class="fs-20 my-3 ff-JB colGRIS1">
                            {{messages.tabs.cancel | capitalize}}
                        </div>
                        <div class="posrel my-1">
                            <div class="f-18" *ngIf="visitaresultado.visit_refundable">
                                {{messages.details.cancel}}
                            </div>
                            <div class="f-18 posabsolNo" *ngIf="!visitaresultado.visit_refundable">
                                <img src="../../assets/images/i-restar.svg" class="imicono2" draggable="false">
                            </div>
                        </div>
                    </div>
                    <div class=" w-100 linecell"></div>
                </div>
                <div class="conteni ">
                    <div #zonePuntodeencuentro class="scroll-with-offset mb-4">
                        <div class="fs-20 my-3 ff-JB colGRIS1">
                            {{messages.tabs.meeting | capitalize}}
                        </div>
                        <div class="posrel my-1 ">
                            <div class="f-18">
                                {{messages.details.meeting.description}}
                            </div>
                        </div>
                        <a class="fs-14 my-3 colROJO1" [href]="visitaresultado.visit_encuentro" target="_blank"
                            follow="nofollow">
                            {{messages.details.meeting.link}}
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div #finaldetalle id="finaldetalle" class="h100"></div>
    </div>


    <div *ngIf="isrespon">
        <div class="h90"></div>

        <div class="contenimvl">
            <div class="detalleslider">
                <swiper #imagenlista id="imagenlista" [config]="config">
                    <div id="im-{{imagenes.visit_image_uuid}}" class="p-0 m-0 " *ngFor="let imagenes of listaImagenesVisita">
                        <div class="posrel">
                            <div class="bannerproductomvl">
                                <picture>
                                    <source media="(min-width: 0px)" srcset="{{imagenes.visit_image_url}}"
                                        data-srcset="{{imagenes.visit_image_url}}">
                                    <img class="imgproductomvl" src="{{imagenes.visit_image_url}}" data-src="{{imagenes.visit_image_url}}" alt="{{imagenes.visit_image_uuid}}">
                                </picture>
                            </div>
                        </div>
                    </div>
                </swiper>
            </div>
        </div>

        <div class="w-100 p-0 m-0">

            <div class="p-2 text-left ">
                <div id="titulovisita">
                    <span class="colGRIS1">{{visitaresultado.visit_lang_title}} </span>
                </div>
            </div>

            <div class="p-2 d-flex ml-auto mr-0 posrel">

                <div>
                    <span class="preciovisitaeuro fs-14">{{timesSel.price}}€ </span>
                    <span class="colGRIS1 mr-2 fs-12">por persona</span>
                </div>
                <div class="linvertical mx-2"></div>
                <div class="horasvisit">
                    <img class="imghorasvisita mb-1 mr-1" src='assets/images/i-reloj.svg' alt="">
                    <span class="fs-16 colROJO1">{{timesSel.duration}}h</span>
                </div>
                <div class="cupo posabsolRight mr-1" (click)="abrirverredes()">
                    <img src="../../assets/images/i-compartir.svg" class="imicono4 mb-2" draggable="false">
                    <span class="colGRIS1 mr-1 fs-16">Compartir</span>

                    <div class="modalredes animated fadeInDown" *ngIf="verredes">
                        <div *ngFor="let r of redes">
                            <div class="cupo posrel" (click)="compartir(visitaresultado, r.name)">
                                <div class="colGRIS3"> {{r.name}} </div>
                                <div class="posabsolR">
                                    <img class="h16" [src]='r.logo' [alt]="r.name" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="contenimvl ">
                <div #zoneDescripcion class="scroll-with-offset mb-4">
                    <div class="posrel mt-4 p-2">
                        <div class="fs-18" [innerHtml]="descripcioncorta" *ngIf="!vermas">
                        </div>
                        <div class="colROJO1 cupo" (click)="abrirvermas()" *ngIf="!vermas">
                            Ver descripción completa
                        </div>
                        <div class="fs-18" [innerHtml]="descripcion" *ngIf="vermas">
                        </div>
                    </div>
                </div>
            </div>
            <div id="btverdisponibilidad" (click)="abrirVerPanel()">
                Ver disponibilidad
            </div>
            <div class="contenimvl ">
                <div #zonePrecios class="scroll-with-offset mb-1 ">
                    <div class="accormovil d-flex cupo my-2 p-2 posrel" (click)="abrirVerZonePrecios()">
                        <div class="fs-20 ml-0 mr-auto">
                            <span class="colGRIS1 ff-JB">
                                {{messages.tabs.price | capitalize}} 
                            </span>
                        </div>
                        <div class="posabsolRight mx-1">
                            <i class="fa fa-angle-down" *ngIf="!verZonePrecios"></i>
                            <i class="fa fa-angle-up" *ngIf="verZonePrecios"></i>
                        </div>
                    </div>
                    <div class="p-2 m-0 animated fadeIn" [hidden]="!verZonePrecios">
                        <table class="table fs-18 w-100">
                            <tbody>
                                <tr class="bgBLANCO2 trprecios">
                                    <td class="tdprecios">Adultos</td>
                                    <td class="tdprecios text-right">{{precioadultos}}</td>
                                </tr>
                                <tr class="bgBLANCO trprecios">
                                    <td class="tdprecios">Niños <span class="fs-12 ml-1">de 3 a 11 años</span></td>
                                    <td class="tdprecios text-right">{{precioninos}}</td>
                                </tr>
                                <tr class="bgBLANCO2 trprecios">
                                    <td class="tdprecios">Niños <span class="fs-12 ml-1">menores de 3 años</span></td>
                                    <td class="tdprecios text-right">{{preciomenores}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="contenimvl ">
                <div #zoneDetalles class="scroll-with-offset mb-1">
                    <div class="accormovil bgBLANCO2 d-flex cupo my-2 p-2 posrel" (click)="abrirVerZoneDetalle()">
                        <div class="fs-20 ml-0 mr-auto">
                            <span class="colGRIS1 ff-JB">
                                {{messages.tabs.description | capitalize}}
                            </span>
                        </div>
                        <div class="posabsolRight mx-1">
                            <i class="fa fa-angle-down" *ngIf="!verZoneDetalle"></i>
                            <i class="fa fa-angle-up" *ngIf="verZoneDetalle"></i>
                        </div>
                    </div>
                    <div class="m-0 p-2 animated fadeIn" [hidden]="!verZoneDetalle">
                        <div class="posrel mb-4">
                            <div class="f-18" [innerHtml]="detalles">
                            </div>
                        </div>

                        <div class="row fs-18 my-2">
                            <div class="col-xl-4">
                                <img src="../../assets/images/i-seguridad.svg" class="imicono8 posrel mb-2"
                                    draggable="false">
                                <span class="ml-2">{{messages.details.covid.title}}</span>
                            </div>
                            <div class="col-xl-8 px-4 py-2">
                                {{messages.details.covid.description | capitalize }}
                            </div>
                            <div class="linedots"></div>
                        </div>
                        <div class="row fs-18 my-2">
                            <div class="col-xl-4">
                                <img src="../../assets/images/i-relojG.svg" class="imicono8 posrel mb-2" draggable="false">
                                <span class="ml-2">{{messages.details.duration.title}}</span>
                            </div>
                            <div class="col-xl-8 px-4 py-2">
                                {{visitaresultado.visit_time[0].duration}} {{messages.details.duration.descripction}}
                            </div>
                            <div class="linedots"></div>
                        </div>
                        <div class="row fs-18 my-2">
                            <div class="col-xl-4">
                                <img src="../../assets/images/i-idiomas.svg" class="imicono8 posrel mb-2" draggable="false">
                                <span class="ml-2">{{messages.details.language.title | capitalize}}</span>
                            </div>
                            <div class="col-xl-8 px-4 py-2">
                                {{messages.details.language.description }} {{idiomasdisponibles}}
                            </div>
                            <div class="linedots"></div>
                        </div>
                        <div class="row fs-18 my-2">
                            <div class="col-xl-4">
                                <img src="../../assets/images/i-calendarioG.svg" class="imicono8 posrel mb-2"
                                    draggable="false">
                                <span class="ml-2">{{messages.details.when.title | capitalize}}</span>
                            </div>
                            <div class="col-xl-8 px-4 py-2">
                                {{messages.details.when.description1 }}
                                {{messages.details.when.description2 }}
                                {{messages.details.when.description3 }}
                            </div>
                            <div class="linedots"></div>
                        </div>
                        <div class="row fs-18 my-2">
                            <div class="col-xl-4">
                                <img src="../../assets/images/i-accesibilidad.svg" class="imicono8 posrel mb-2"
                                    draggable="false">
                                <span class="ml-2">{{messages.details.accesibility.title | capitalize}}</span>
                            </div>
                            <div class="col-xl-8" *ngIf="visitaresultado.visit_accessibility" >
                                Accesible en silla de ruedas.
                            </div>
                            <div class="col-xl-8 px-4 py-2" *ngIf="!visitaresultado.visit_accessibility">
                                <img src="../../assets/images/i-restar.svg" class="imicono2" draggable="false">
                            </div>
                            <div class="linedots"></div>
                        </div>
                        <div class="row fs-18 my-2">
                            <div class="col-xl-4">
                                <img src="../../assets/images/i-mascotas.svg" class="imicono8 posrel mb-2"
                                    draggable="false">
                                <span class="ml-2">{{messages.details.pet.title | capitalize}}</span>
                            </div>
                            <div class="col-xl-8 px-4 py-2">
                                {{messages.details.pet.description | capitalize}}
                            </div>
                        </div>
                    </div>
                </div>

                <div #zoneCancelaciones class="scroll-with-offset mb-1">
                    <div class="accormovil bgBLANCO2 d-flex cupo my-2 p-2 posrel" (click)="abrirVerZoneCancelaciones()">
                        <div class="fs-20 ff-JB colGRIS1">
                            {{messages.tabs.cancel | capitalize}}
                        </div>
                        <div class="posabsolRight mx-1">
                            <i class="fa fa-angle-down" *ngIf="!verZoneCancelaciones"></i>
                            <i class="fa fa-angle-up" *ngIf="verZoneCancelaciones"></i>
                        </div>
                    </div>
                    <div class="posrel my-1 p-2 animated fadeIn" [hidden]="!verZoneCancelaciones">
                        <div class="f-18" *ngIf="visitaresultado.visit_refundable">
                            {{messages.details.cancel}}
                        </div>
                        <div class="f-18" *ngIf="!visitaresultado.visit_refundable">
                            <img src="../../assets/images/i-restar.svg" class="imicono2" draggable="false">
                        </div>
                    </div>
                </div>

                <div #zonePuntodeencuentro class="scroll-with-offset mb-1">
                    <div class="accormovil bgBLANCO2 d-flex cupo my-2 p-2 posrel"
                        (click)="abrirVerZonePuntodeencuentro()">
                        <div class="fs-20 ml-0 mr-auto">
                            <span class="colGRIS1 ff-JB">
                                {{messages.tabs.meeting | capitalize}}
                            </span>
                        </div>
                        <div class="posabsolRight">
                            <i class="fa fa-angle-down" *ngIf="!verZonePuntodeencuentro"></i>
                            <i class="fa fa-angle-up" *ngIf="verZonePuntodeencuentro"></i>
                        </div>
                    </div>
                    <div class="posrel my-1 p-2 animated fadeIn" [hidden]="!verZonePuntodeencuentro">
                        <div class="f-18">
                            {{messages.details.meeting.description}}
                        </div>
                        <a class="fs-14 my-3 colROJO1" [href]="visitaresultado.visit_encuentro" target="_blank"
                            follow="nofollow">
                            {{messages.details.meeting.link}}
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="posrel00 " *ngIf="isrespon" >
            <div id="paneldetalle" *ngIf="verPanel">
                <div id="btverdisponibilidad" class="posrel">
                    <div *ngIf="secuencial == 1" [ngModel]="secuencial">
                        Seleccione una fecha
                    </div>
                    <div *ngIf="secuencial == 2" [ngModel]="secuencial">
                        Seleccione una hora
                    </div>
                    <div *ngIf="secuencial == 3" [ngModel]="secuencial">
                        Seleccione un idioma
                    </div>
                    <div *ngIf="secuencial == 4" [ngModel]="secuencial">
                        Seleccione el número de personas
                    </div>
                    <div class="posabsolX" (click)="cerrarVerPanel()" >
                        <i class="fa fa-xmark fs-20"></i>
                    </div>
                </div>
                <div class="contenimvl ">
                    <div #fdetallecale id="fdetallecale" >
                        <div #detallecale id="detallecale" class="m-0 px-2 divcalendar ">

                            <div #cale id="cale" class="cajaselecvisita" *ngIf="caleinfo != ''">
                                <div class="w-100 cupo posrel" (click)="verCale()">
                                    <div class="fs-20 ml-0 mr-auto">
                                        <span class="ml-1 colGRIS1">
                                            {{caleinfo}}
                                        </span>
                                    </div>
                                    <div class="posabsolRight">
                                        <i class="fa fa-angle-down" *ngIf="!vcale"></i>
                                        <i class="fa fa-angle-up" *ngIf="vcale"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="wrapper-calendar p-0 animated fadeIn" *ngIf="vcale || caleinfo == ''">
                                <div class="header-calendar">
                                    <div>
                                        <div (click)="changeMonth(-1)" class="text-center arrowcalendar">
                                            <i class="fa fa-angle-left "> </i>
                                        </div>
                                    </div>
                                    <div class="month-calendar">{{mSelect}}</div>
                                    <div class="age-calendar">{{ySelect}}</div>
                                    <div>
                                        <div (click)="changeMonth(1)" class="text-center arrowcalendar">
                                            <i class="fa fa-angle-right "> </i>
                                        </div>
                                    </div>
                                </div>
                                <ol class="olCalendar">
                                    <li *ngFor="let day of week" class="day-name ilCalendar ">{{day | slice:0:1}}
                                    </li>

                                    <li class="liCalendar"
                                        [ngClass]="{'daySelected': ( day.selected ), 'dayVisit': (day.visitday) }"
                                        (click)="clickDay(day)"
                                        [style.gridColumnStart]="first ? day?.indexWeek : 'auto'"
                                        *ngFor="let day of monthSelect; let first = first">
                                        <span>{{day?.value}}</span>
                                    </li>
                                </ol>
                            </div>

                            <div class="p-0 my-3">
                                <div #hora class="cajaselecvisita">
                                    <div class="w-100 cupo posrel" (click)="verHora()">
                                        <div class="fs-20 ml-0 mr-auto">
                                            <span class="colGRIS1 ff-JB" *ngIf="horainfo == ''">
                                                {{messages.data.hour}}
                                            </span>
                                            <span class="ml-1 colGRIS1">
                                                {{horainfo}}
                                            </span>
                                        </div>
                                        <div class="posabsolRight">
                                            <i class="fa fa-angle-down" *ngIf="!vhora"></i>
                                            <i class="fa fa-angle-up" *ngIf="vhora"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="p-0 m-0">
                                    <div class="row px-3 pt-2 m-0 animated fadeIn" [hidden]="!vhora">
                                        <div *ngFor="let li of listahorasvisita" class="col-3 p-0 m-0">
                                            <input name="rbhora" id="rbhora-{{li.key}}" type="radio" value="{{li.key}}"
                                                (click)="horainfosel(li.value)" >
                                            <label class="px-1" for="rbhora-{{li.key}}">{{li.value}}</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="p-0 my-3">
                                <div #idioma class="cajaselecvisita">
                                    <div class="w-100 cupo posrel" (click)="verIdioma()">
                                        <div class="fs-20 ml-0 mr-auto">
                                            <span class="colGRIS1 ff-JB" *ngIf="idiominfo == ''">
                                                {{messages.data.language}}
                                            </span>
                                            <span class="ml-1 colGRIS1">
                                                {{idiominfo | capitalize}}
                                            </span>
                                        </div>
                                        <div class="posabsolRight">
                                            <i class="fa fa-angle-down" *ngIf="!vidiom"></i>
                                            <i class="fa fa-angle-up" *ngIf="vidiom"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="p-0 m-0">
                                    <div class="row px-3 pt-2 m-0 animated fadeIn" [hidden]="!vidiom">
                                        <div *ngFor="let li of listaidiomasvisita" class="col-6 p-0 m-0">
                                            <input name="rbidiom" id="rbidiom-{{li.uuid}}" type="radio"
                                                value="{{li.uuid}}" (click)="idiomainfosel(li.name)">
                                            <label class="mx-1 mb-1" for="rbidiom-{{li.uuid}}">{{li.name |
                                                capitalize}}</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="p-0 my-3">
                                <div #persona class="cajaselecvisita">
                                    <div class="w-100 cupo posrel" (click)="verPersona()">
                                        <div class="fs-20 ml-0 mr-auto d-flex">
                                            <span class="colGRIS1 ff-JB"
                                                *ngIf="adultoSel == 0 && ninosSel == 0 && menoresSel == 0">
                                                {{messages.data.people}}
                                            </span>
                                            <div class="posrel fs-18 colGRIS2" style="top: 0px"
                                                *ngIf="adultoSel != 0 || ninosSel != 0 || menoresSel != 0 ">
                                                <span [ngClass]="{'colGRIS1': adultoSel > 0 }">
                                                    {{messages.price.adults}} {{adultoSel}}
                                                </span>
                                                <span class="mx-3" [ngClass]="{'colGRIS1': ninosSel > 0 }">
                                                    {{messages.price.children}} {{ninosSel}}
                                                </span>
                                                <!-- <span class="" [ngClass]="{'colGRIS1': menoresSel > 0 }">
                                                    Menores {{menoresSel}}
                                                </span> -->
                                            </div>
                                        </div>
                                        <div class="posabsolRight">
                                            <i class="fa fa-angle-down" *ngIf="!vpers"></i>
                                            <i class="fa fa-angle-up" *ngIf="vpers"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="p-0 m-0">
                                    <div class="px-3 pt-2 m-0 animated fadeIn" [hidden]="!vpers">
                                        <div #adulto class="row my-2">
                                            <div class="col-4 text-left posrel">
                                                <div class="fs-8 posabsol" style="top: -6px">Adulto</div>
                                                <div class="fs-16">{{precioadultosst}} €</div>
                                            </div>
                                            <div class="col-4">
                                                <div class="w-100 d-flex mw100">
                                                    <div class="posrelbtm5">
                                                        <div *ngIf="adultoSel == 0">
                                                            <img src="../../assets/images/i-restarapagado.svg"
                                                                class="imicono4" draggable="false">
                                                        </div>
                                                        <div class="cupo" *ngIf="adultoSel > 0"
                                                            (click)="restaradulto()">
                                                            <img src="../../assets/images/i-restar.svg" class="imicono4"
                                                                draggable="false">
                                                        </div>
                                                    </div>
                                                    <div class="fs-16 text-center w50">
                                                        {{adultoSel}}
                                                    </div>
                                                    <div class="posrelbtm5">
                                                        <div class="cupo" (click)="sumaradulto()">
                                                            <img src="../../assets/images/i-sumar.svg" class="imicono4"
                                                                draggable="false">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-4 text-right">
                                                <div class="fs-16">{{precioadultototalst}} €</div>
                                            </div>
                                        </div>

                                        <div #ninos class="row my-2">
                                            <div class="col-4 text-left posrel">
                                                <div class="fs-8 posabsol" style="top: -6px">
                                                    {{messages.price.children}} (3-11)
                                                </div>
                                                <div class="fs-16">{{precioninosst}} €</div>
                                            </div>
                                            <div class="col-4">
                                                <div class="w-100 d-flex mw100">
                                                    <div class="posrelbtm5">
                                                        <div *ngIf="ninosSel == 0">
                                                            <img src="../../assets/images/i-restarapagado.svg"
                                                                class="imicono4" draggable="false">
                                                        </div>
                                                        <div class="cupo" *ngIf="ninosSel > 0" (click)="restarninos()">
                                                            <img src="../../assets/images/i-restar.svg" class="imicono4"
                                                                draggable="false">
                                                        </div>
                                                    </div>
                                                    <div class="fs-16 text-center w50">
                                                        {{ninosSel}}
                                                    </div>
                                                    <div class="posrelbtm5">
                                                        <div class="cupo" (click)="sumarninos()">
                                                            <img src="../../assets/images/i-sumar.svg" class="imicono4"
                                                                draggable="false">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-4 text-right">
                                                <div class="fs-16">{{precioninostotalst}} €</div>
                                            </div>
                                        </div>

                                        <div #menores class="row my-2">
                                            <div class="col-4 text-left posrel">
                                                <div class="fs-8 posabsol" style="top: -6px">
                                                    menores
                                                </div>
                                                <div class="fs-16">{{preciomenoresst}} €</div>
                                            </div>
                                            <div class="col-4">
                                                <div class="w-100 d-flex mw100">
                                                    <div class="posrelbtm5">
                                                        <div *ngIf="menoresSel == 0">
                                                            <img src="../../assets/images/i-restarapagado.svg"
                                                                class="imicono4" draggable="false">
                                                        </div>
                                                        <div class="cupo" *ngIf="menoresSel > 0"
                                                            (click)="restarmenores()">
                                                            <img src="../../assets/images/i-restar.svg" class="imicono4"
                                                                draggable="false">
                                                        </div>
                                                    </div>
                                                    <div class="fs-16 text-center w50">
                                                        {{menoresSel}}
                                                    </div>
                                                    <div class="posrelbtm5">
                                                        <div class="cupo" (click)="sumarmenores()">
                                                            <img src="../../assets/images/i-sumar.svg" class="imicono4"
                                                                draggable="false">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-4 text-right">
                                                <div class="fs-16">{{preciomenorestotalst}} €</div>
                                            </div>
                                        </div>

                                        <div #total class="d-flex w-100 posrel my-3">
                                            <div class="ml-0 mr-auto ">
                                                <div class="fs-16">Total</div>
                                            </div>
                                            <div class="posabsolR">
                                                <div class="fs-16 ff-JB">{{preciototalst}} €</div>
                                            </div>
                                        </div>
                                        <div #maximo class="d-flex w-100 posrel my-3">
                                            <div class="d-flex posrel w-100">
                                                <div class="fs-12">*Máximas personas visita
                                                </div>
                                                <div class="posabsolR ff-JB">{{maximopersonas}}</div>
                                            </div>
                                        </div>
                                        <div #checkprivada class="d-flex w-100 posrel my-3"
                                            *ngIf="visitaresultado.visit_privada">
                                            <div class="ml-0 mr-auto ">
                                                <div class="fs-20 mr-2 posrel " style="top: -3px">
                                                    <input #priv type="checkbox" name="privada" id="privada"
                                                        [value]="privada" (change)="cambiarprivada(priv)">
                                                </div>
                                            </div>
                                            <div class="mr-0 ml-auto">
                                                <div class="fs-16 mx-1">
                                                    Contratar visita privada.
                                                </div>
                                                <div class="fs-12 ffita colGRIS2">
                                                    *Implica asumir el precio al coste máximo de la visita
                                                    independientemente del número
                                                    total de asistentes.
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div #validacioncale class="d-flex w-100 posrel my-1" *ngIf="calenovalid">
                                    <div class=" posrel " style="top:-4px">
                                        <img src="../../assets/images/i-validacion.svg" class="imicono8"
                                            draggable="false">
                                    </div>
                                    <div>
                                        <div class="fs-16 colROJO1">{{messages.errors.date}}</div>
                                    </div>
                                </div>
                                <div #validacionhora class="d-flex w-100 posrel my-1" *ngIf="horanovalid">
                                    <div class=" posrel " style="top:-4px">
                                        <img src="../../assets/images/i-validacion.svg" class="imicono8"
                                            draggable="false">
                                    </div>
                                    <div>
                                        <div class="fs-16 colROJO1">{{messages.errors.hour}}
                                        </div>
                                    </div>
                                </div>
                                <div #validacionidioma class="d-flex w-100 posrel my-1" *ngIf="idiomanovalid">
                                    <div class=" posrel " style="top:-4px">
                                        <img src="../../assets/images/i-validacion.svg" class="imicono8"
                                            draggable="false">
                                    </div>
                                    <div>
                                        <div class="fs-16 colROJO1">{{messages.errors.language}}
                                        </div>
                                    </div>
                                </div>
                                <div #validacionpers class="d-flex w-100 posrel my-1" *ngIf="persnovalid">
                                    <div class=" posrel " style="top:-4px">
                                        <img src="../../assets/images/i-validacion.svg" class="imicono8"
                                            draggable="false">
                                    </div>
                                    <div>
                                        <div class="fs-16 colROJO1">{{messages.errors.people}}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="p-0 m-0">
                                <div id="btreservar">
                                    <div class="w-100">
                                        <div class="my-0 mx-auto text-center">
                                            <button class="btredondoRojoCalendar " type="button"
                                                (click)="reservarvisita()">
                                                <span class="ff-JB">Reservar</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>