<div class="container px-xl-1 ">

    <div class="h90"></div>


    <div class="conteni">
        <div class="detalleslider">
            <swiper #imagenlista id="imagenlista" [config]="config">
                <div id="im-{{imagenes.id}}" class="p-0 m-0 " *ngFor="let imagenes of listaImagenesVisita">
                    <div class="posrel">
                        <div class="visitastemporada">
                            <div class="ml-1">
                                Visita de temporada
                            </div>
                        </div>
                        <div class="" style=" height: 169px; width: 100%;">
                            <picture>
                                <source media="(min-width: 0px)" srcset="{{imagenes.url}}"
                                    data-srcset="{{imagenes.url}}">
                                <img src="{{imagenes.url}}" data-src="{{imagenes.url}}" alt="{{imagenes.id}}"
                                    style=" height: 169px; width: 50vh;  object-fit: cover;  ">
                            </picture>
                        </div>
                    </div>
                </div>
            </swiper>
        </div>
    </div>

    <div class="w-100 p-0 m-0">

        <div class="p-2 text-left ">
            <div id="titulovisita">
                <span class="colGRIS1">{{visita.title}} </span>
            </div>
        </div>

        <div class="p-2 d-flex ml-auto mr-0 posrel">

            <div>
                <span class="preciovisitaeuro fs-14">{{visita.price}}€ </span>
                <span class="colGRIS1 mr-2 fs-12">por persona</span>
            </div>
            <div class="linvertical mx-2"></div>
            <div class="horasvisit">
                <img class="imghorasvisita mb-1 mr-1" src='assets/images/i-reloj.svg' alt="">
                <span class="fs-14 colROJO1">{{visita.duration}}h</span>
            </div>
            <div class="cupo ml-auto mr-1" (click)="abrirverredes()">
                <img src="../../assets/images/i-compartir.svg" class="imicono4 mb-2" draggable="false">
                <span class="colGRIS1 mr-1 fs-16">Compartir</span>

                <div class="modalredes animated fadeInDown" *ngIf="verredes">
                    <div *ngFor="let r of redes">
                        <div class="cupo d-flex" (click)="compartir(visita, r.name)">
                            <div class="colGRIS3"> {{r.name}} </div>
                            <div class="ml-auto mr-1">
                                <img class="h16" [src]='r.logo' [alt]="r.name" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="contenimvl ">
            <div #zoneDescripcion class="scroll-with-offset mb-4">
                <div class="posrel mt-4 p-2">
                    <div class="fs-18" [innerHtml]="descripcioncorta" *ngIf="!vermas">
                    </div>
                    <div class="colROJO1 cupo" (click)="abrirvermas()" *ngIf="!vermas">
                        Ver descripción completa
                    </div>
                    <div class="fs-18" [innerHtml]="descripcion" *ngIf="vermas">
                    </div>
                </div>
            </div>
        </div>
        <div id="btverdisponibilidad" (click)="abrirVerPanel()">
            Ver disponibilidad
        </div>
        <div class="contenimvl ">
            <div #zonePrecios class="scroll-with-offset mb-1 ">
                <div class="accormovil d-flex cupo my-2 p-2" (click)="abrirVerZonePrecios()">
                    <div class="fs-20 ml-0 mr-auto">
                        <span class="colGRIS1 ff-JB">
                            Precio
                        </span>
                    </div>
                    <div class="text-right mr-0 ml-auto">
                        <i class="fa fa-angle-down" *ngIf="!verZonePrecios"></i>
                        <i class="fa fa-angle-up" *ngIf="verZonePrecios"></i>
                    </div>
                </div>
                <div class="p-2 m-0 animated fadeIn" [hidden]="!verZonePrecios">
                    <table class="table fs-18 w-100">
                        <tbody>
                            <tr class="bgBLANCO2 trprecios">
                                <td class="tdprecios">Adultos</td>
                                <td class="tdprecios text-right">{{precioadultos}}</td>
                            </tr>
                            <tr class="bgBLANCO trprecios">
                                <td class="tdprecios">Niños <span class="fs-12 ml-1">de 3 a 11 años</span></td>
                                <td class="tdprecios text-right">{{precioninos}}</td>
                            </tr>
                            <tr class="bgBLANCO2 trprecios">
                                <td class="tdprecios">Niños <span class="fs-12 ml-1">menores de 3 años</span></td>
                                <td class="tdprecios text-right">{{preciomenores}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="contenimvl ">
            <div #zoneDetalles class="scroll-with-offset mb-1">
                <div class="accormovil bgBLANCO2 w-100 d-flex cupo my-2 p-2" (click)="abrirVerZoneDetalle()">
                    <div class="fs-20 ml-0 mr-auto">
                        <span class="colGRIS1 ff-JB">
                            Detalle
                        </span>
                    </div>
                    <div class="text-right mr-0 ml-auto">
                        <i class="fa fa-angle-down" *ngIf="!verZoneDetalle"></i>
                        <i class="fa fa-angle-up" *ngIf="verZoneDetalle"></i>
                    </div>
                </div>
                <div class="m-0 p-2 animated fadeIn" [hidden]="!verZoneDetalle">
                    <div class="posrel mb-4">
                        <div class="f-18" [innerHtml]="detalles">
                        </div>
                    </div>
                    <div class="w-100 fs-18 my-2">
                        <div class="my-2">
                            <img src="../../assets/images/i-seguridad.svg" class="imicono8l " draggable="false">
                            <span class="ml-2">Medidas covid-19</span>
                        </div>
                        <div>
                            Todos nuestros servicios cumplen las recomendaciones para evitar el coronavirus.
                        </div>
                        <div class="linedots"></div>
                    </div>
                    <div class="w-100 fs-18 my-2">
                        <div class="my-2">
                            <img src="../../assets/images/i-relojG.svg" class="imicono8l" draggable="false">
                            <span class="ml-2">Duración</span>
                        </div>
                        <div>
                            2 horas
                        </div>
                        <div class="linedots"></div>
                    </div>
                    <div class="w-100 fs-18 my-2">
                        <div class="my-2">
                            <img src="../../assets/images/i-idiomas.svg" class="imicono8l" draggable="false">
                            <span class="ml-2">Idiomas</span>
                        </div>
                        <div>
                            Tour disponible en: Español, Italiano, Francés, Inglés y Ruso.
                        </div>
                        <div class="linedots"></div>
                    </div>
                    <div class="w-100 fs-18 my-2">
                        <div class="my-2">
                            <img src="../../assets/images/i-calendarioG.svg" class="imicono8l" draggable="false">
                            <span class="ml-2">Cuando reservar</span>
                        </div>
                        <div>
                            Se puede reservar hasta 1 hora antes del inicio si quedan plazas.
                        </div>
                        <div class="linedots"></div>
                    </div>
                    <div class="w-100 fs-18 my-2">
                        <div class="my-2">
                            <img src="../../assets/images/i-accesibilidad.svg" class="imicono8l" draggable="false">
                            <span class="ml-2">Accesibilidad</span>
                        </div>
                        <div>
                            Accesible en silla de ruedas.
                        </div>
                        <div class="linedots"></div>
                    </div>
                    <div class="w-100 fs-18 my-2">
                        <div class="my-2">
                            <img src="../../assets/images/i-mascotas.svg" class="imicono8l" draggable="false">
                            <span class="ml-2">Macotas</span>
                        </div>
                        <div>
                            Permitidas
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="contenimvl ">
            <div #zoneCancelaciones class="scroll-with-offset mb-1">
                <div class="accormovil bgBLANCO2 w-100 d-flex cupo my-2 p-2" (click)="abrirVerZoneCancelaciones()">
                    <div class="fs-20 ml-0 mr-auto">
                        <span class="colGRIS1 ff-JB">
                            Cancelaciones
                        </span>
                    </div>
                    <div class="text-right mr-0 ml-auto">
                        <i class="fa fa-angle-down" *ngIf="!verZoneCancelaciones"></i>
                        <i class="fa fa-angle-up" *ngIf="verZoneCancelaciones"></i>
                    </div>
                </div>
                <div class="posrel my-1 p-2 animated fadeIn" [hidden]="!verZoneCancelaciones">
                    <div class="f-18" [innerHtml]="cancelaciones">
                    </div>
                </div>
            </div>
        </div>
        <div class="contenimvl ">
            <div #zonePuntodeencuentro class="scroll-with-offset mb-1">
                <div class="accormovil bgBLANCO2 w-100 d-flex cupo my-2 p-2" (click)="abrirVerZonePuntodeencuentro()">
                    <div class="fs-20 ml-0 mr-auto">
                        <span class="colGRIS1 ff-JB">
                            Punto de encuentro
                        </span>
                    </div>
                    <div class="text-right mr-0 ml-auto">
                        <i class="fa fa-angle-down" *ngIf="!verZonePuntodeencuentro"></i>
                        <i class="fa fa-angle-up" *ngIf="verZonePuntodeencuentro"></i>
                    </div>
                </div>
                <div class="posrel my-1 p-2 animated fadeIn" [hidden]="!verZonePuntodeencuentro">
                    <div class="f-18" [innerHtml]="puntodeencuentro">
                    </div>
                    <a class="fs-14 my-3 colROJO1" [href]="googlemapsvisita" target="_blank" follow="nofollow">
                        <span> Ver en Google Maps</span>
                        <img src="../../assets/images/i-external-link.svg" class="imicono4 mb-2 ml-1" draggable="false">
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="posrel00">
        <div id="paneldetalle" *ngIf="verPanel">
            <div id="btverdisponibilidad" class="posrel"  >
                <div *ngIf="secuencial == 1" [ngModel]="secuencial" >
                    Seleccione una fecha
                </div>
                <div *ngIf="secuencial == 2" [ngModel]="secuencial">
                    Seleccione una hora
                </div>
                <div *ngIf="secuencial == 3" [ngModel]="secuencial" >
                    Seleccione un idioma
                </div>
                <div *ngIf="secuencial == 4" [ngModel]="secuencial">
                    Seleccione el número de personas
                </div>
                <div class="posabsolX"  >
                    <i class="fa fa-xmark fs-20"></i>
                </div>
            </div>
            <div class="contenimvl ">
                <div #fdetallecale id="fdetallecale">
                    <div #detallecale id="detallecale" class="m-0 p-2 divcalendar ">
                        <div #cale id="cale" class="cajaselecvisita" *ngIf="caleinfo != ''">
                            <div class="w-100 d-flex cupo" (click)="verCale()">
                                <div class="fs-20 ml-0 mr-auto">
                                    <span class="ml-1 colGRIS1">
                                        {{caleinfo}}
                                    </span>
                                </div>
                                <div class="text-right mr-0 ml-auto">
                                    <i class="fa fa-angle-down" *ngIf="!vcale"></i>
                                    <i class="fa fa-angle-up" *ngIf="vcale"></i>
                                </div>
                            </div>
                        </div>
                        <div class="wrapper-calendar p-0 animated fadeIn" *ngIf="vcale || caleinfo == ''">
                            <div class="header-calendar">
                                <div>
                                    <div (click)="changeMonth(-1)" class="text-center arrowcalendar">
                                        <i class="fa fa-angle-left "> </i>
                                    </div>
                                </div>
                                <div class="month-calendar">{{mSelect}}</div>
                                <div class="age-calendar">{{ySelect}}</div>
                                <div>
                                    <div (click)="changeMonth(1)" class="text-center arrowcalendar">
                                        <i class="fa fa-angle-right "> </i>
                                    </div>
                                </div>
                            </div>
                            <ol class="olCalendar">
                                <li *ngFor="let day of week" class="day-name ilCalendar ">{{day | slice:0:1}}
                                </li>

                                <li class="liCalendar" [ngClass]="{'liCalendarSelected': day == daySel   }"
                                    (click)="clickDay(day)" [style.gridColumnStart]="first ? day?.indexWeek : 'auto'"
                                    *ngFor="let day of monthSelect; let first = first">
                                    <span>{{day?.value}}</span>
                                </li>
                            </ol>
                        </div>

                        <div class="p-0 my-3">
                            <div #hora class="cajaselecvisita">
                                <div class="w-100 d-flex cupo" (click)="verHora()">
                                    <div class="fs-20 ml-0 mr-auto">
                                        <span class="colGRIS1 ff-JB" *ngIf="horainfo == ''">
                                            Hora
                                        </span>
                                        <span class="ml-1 colGRIS1">
                                            {{horainfo}}
                                        </span>
                                    </div>
                                    <div class="text-right mr-0 ml-auto">
                                        <i class="fa fa-angle-down" *ngIf="!vhora"></i>
                                        <i class="fa fa-angle-up" *ngIf="vhora"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="p-0 m-0">
                                <div class="row px-3 pt-2 m-0 animated fadeIn" [hidden]="!vhora">
                                    <div *ngFor="let li of listahoras" class="col-3 p-0 m-0">
                                        <input name="rbhora" id="rbhora-{{li.key}}" type="radio" value="{{li.key}}"
                                            (click)="horainfosel($event)" >
                                        <label class="ml-1" for="rbhora-{{li.key}}">{{li.value}}</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="p-0 my-3">
                            <div #idioma class="cajaselecvisita">
                                <div class="w-100 d-flex cupo" (click)="verIdioma()">
                                    <div class="fs-20 ml-0 mr-auto">
                                        <span class="colGRIS1 ff-JB" *ngIf="idiominfo == ''">
                                            Idioma
                                        </span>
                                        <span class="ml-1 colGRIS1">
                                            {{idiominfo}}
                                        </span>
                                    </div>
                                    <div class="text-right mr-0 ml-auto">
                                        <i class="fa fa-angle-down" *ngIf="!vidiom"></i>
                                        <i class="fa fa-angle-up" *ngIf="vidiom"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="p-0 m-0">
                                <div class="row px-3 pt-2 m-0 animated fadeIn" [hidden]="!vidiom">
                                    <div *ngFor="let li of listaidiomas" class="col-6 p-0 m-0">
                                        <input name="rbidiom" id="rbidiom-{{li.key}}" type="radio" value="{{li.key}}"
                                            (click)="idiomainfosel($event)" >
                                        <label class="ml-2" for="rbidiom-{{li.key}}" >{{li.value}}</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="p-0 my-3">
                            <div #persona class="cajaselecvisita">
                                <div class="w-100 d-flex cupo" (click)="verPersona()">
                                    <div class="fs-20 ml-0 mr-auto d-flex">
                                        <span class="colGRIS1 ff-JB"
                                            *ngIf="adultoSel == 0 && ninosSel == 0 && menoresSel == 0">
                                            Personas
                                        </span>
                                        <div class="posrel fs-18" style="top: 0px"
                                            *ngIf="adultoSel != 0 || ninosSel != 0 || menoresSel != 0 ">
                                            <span class="ml-1 colGRIS1 ">
                                                Adultos {{adultoSel}}
                                            </span>
                                            <span class="ml-3 colGRIS2 ">
                                                Niños {{ninosSel}}
                                            </span>
                                            <span class="ml-3 colGRIS2 ">
                                                Menores {{menoresSel}}
                                            </span>
                                        </div>
                                    </div>
                                    <div class="text-right mr-0 ml-auto">
                                        <i class="fa fa-angle-down" *ngIf="!vpers"></i>
                                        <i class="fa fa-angle-up" *ngIf="vpers"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="p-0 m-0">
                                <div class="px-3 pt-2 m-0 animated fadeIn" [hidden]="!vpers">
                                    <div #adulto class="row my-2">
                                        <div class="col-4 text-left ">
                                            <div class="fs-8 posabsol" style="top: -6px">Adulto</div>
                                            <div class="fs-16">{{precioadultos}} €</div>
                                        </div>
                                        <div class="col-4">
                                            <div class="w-100 d-flex mw100">
                                                <div class="posrelbtm5">
                                                    <div *ngIf="adultoSel == 0">
                                                        <img src="../../assets/images/i-restarapagado.svg"
                                                            class="imicono4" draggable="false">
                                                    </div>
                                                    <div class="cupo" *ngIf="adultoSel > 0" (click)="restaradulto()">
                                                        <img src="../../assets/images/i-restar.svg" class="imicono4"
                                                            draggable="false">
                                                    </div>
                                                </div>
                                                <div class="fs-16 text-center w50">
                                                    {{adultoSel}}
                                                </div>
                                                <div class="posrelbtm5">
                                                    <div class="cupo" (click)="sumaradulto()">
                                                        <img src="../../assets/images/i-sumar.svg" class="imicono4"
                                                            draggable="false">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-4 text-right">
                                            <div class="fs-16">{{precioadultototal}} €</div>
                                        </div>
                                    </div>

                                    <div #ninos class="row my-2">
                                        <div class="col-4 text-left ">
                                            <div class="fs-8 posabsol" style="top: -6px">ninos</div>
                                            <div class="fs-16">{{precioninos}} €</div>
                                        </div>
                                        <div class="col-4">
                                            <div class="w-100 d-flex mw100">
                                                <div class="posrelbtm5">
                                                    <div *ngIf="ninosSel == 0">
                                                        <img src="../../assets/images/i-restarapagado.svg"
                                                            class="imicono4" draggable="false">
                                                    </div>
                                                    <div class="cupo" *ngIf="ninosSel > 0" (click)="restarninos()">
                                                        <img src="../../assets/images/i-restar.svg" class="imicono4"
                                                            draggable="false">
                                                    </div>
                                                </div>
                                                <div class="fs-16 text-center w50">
                                                    {{ninosSel}}
                                                </div>
                                                <div class="posrelbtm5">
                                                    <div class="cupo" (click)="sumarninos()">
                                                        <img src="../../assets/images/i-sumar.svg" class="imicono4"
                                                            draggable="false">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-4 text-right">
                                            <div class="fs-16">{{precioninostotal}} €</div>
                                        </div>
                                    </div>

                                    <div #menores class="row my-2">
                                        <div class="col-4 text-left ">
                                            <div class="fs-8 posabsol" style="top: -6px">menores</div>
                                            <div class="fs-16">{{preciomenores}} €</div>
                                        </div>
                                        <div class="col-4">
                                            <div class="w-100 d-flex mw100">
                                                <div class="posrelbtm5">
                                                    <div *ngIf="menoresSel == 0">
                                                        <img src="../../assets/images/i-restarapagado.svg"
                                                            class="imicono4" draggable="false">
                                                    </div>
                                                    <div class="cupo" *ngIf="menoresSel > 0" (click)="restarmenores()">
                                                        <img src="../../assets/images/i-restar.svg" class="imicono4"
                                                            draggable="false">
                                                    </div>
                                                </div>
                                                <div class="fs-16 text-center w50">
                                                    {{menoresSel}}
                                                </div>
                                                <div class="posrelbtm5">
                                                    <div class="cupo" (click)="sumarmenores()">
                                                        <img src="../../assets/images/i-sumar.svg" class="imicono4"
                                                            draggable="false">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-4 text-right">
                                            <div class="fs-16">{{preciomenorestotal}} €</div>
                                        </div>
                                    </div>

                                    <div #total class="d-flex w-100 posrel my-3">
                                        <div class="ml-0 mr-auto ">
                                            <div class="fs-16">Total</div>
                                        </div>
                                        <div class="mr-0 ml-auto">
                                            <div class="fs-16 ff-JB">{{preciototal}} €</div>
                                        </div>
                                    </div>
                                    <div #maximo class="d-flex w-100 posrel my-3">
                                        <div class="ml-0 mr-auto ">
                                            <div class="fs-12">*Máximas personas visita <span
                                                    class="ff-JB">{{maximopersonas}}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div #checkprivada class="d-flex w-100 posrel my-3">
                                        <div class="ml-0 mr-auto ">
                                            <div class="fs-20 mr-2 posrel " style="top: -3px">
                                                <input #priv type="checkbox" name="privada" id="privada"
                                                    [value]="privada" (change)="cambiarprivada(priv)">
                                            </div>
                                        </div>
                                        <div class="mr-0 ml-auto">
                                            <div class="fs-16 ">
                                                Contratar visita privada.
                                            </div>
                                            <div class="fs-12 ffita colGRIS2">
                                                *Implica asumir el precio al coste máximo de la visita
                                                independientemente del número
                                                total de asistentes.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div #validacioncale class="d-flex w-100 posrel my-1" *ngIf="calenovalid">
                                <div class=" posrel " style="top:-4px">
                                    <img src="../../assets/images/i-validacion.svg" class="imicono8" draggable="false">
                                </div>
                                <div>
                                    <div class="fs-16 colROJO1">Elige la <span class="ff-JB">fecha</span> de la
                                        visita</div>
                                </div>
                            </div>
                            <div #validacionhora class="d-flex w-100 posrel my-1" *ngIf="horanovalid">
                                <div class=" posrel " style="top:-4px">
                                    <img src="../../assets/images/i-validacion.svg" class="imicono8" draggable="false">
                                </div>
                                <div>
                                    <div class="fs-16 colROJO1">Selecciona la <span class="ff-JB">hora</span>
                                        para la visita
                                    </div>
                                </div>
                            </div>
                            <div #validacionidioma class="d-flex w-100 posrel my-1" *ngIf="idiomanovalid">
                                <div class=" posrel " style="top:-4px">
                                    <img src="../../assets/images/i-validacion.svg" class="imicono8" draggable="false">
                                </div>
                                <div>
                                    <div class="fs-16 colROJO1">Selecciona <span class="ff-JB">idioma</span>
                                        para la visita
                                    </div>
                                </div>
                            </div>
                            <div #validacionpers class="d-flex w-100 posrel my-1" *ngIf="persnovalid">
                                <div class=" posrel " style="top:-4px">
                                    <img src="../../assets/images/i-validacion.svg" class="imicono8" draggable="false">
                                </div>
                                <div>
                                    <div class="fs-16 colROJO1">Selecciona <span class="ff-JB">número de
                                            personas</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="p-0 m-0">
                            <div id="btreservar">
                                <div class="w-100">
                                    <div class="my-0 mx-auto text-center">
                                        <button class="btredondoRojoCalendar" type="button" (click)="reservarvisita()">
                                            <span class="ff-JB">Reservar</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>